[Statedef -2];常時監視ステート(相手に行動を制御されても関係無く常に実行される)

[State -1, AIｿｪｹﾘ]
type = VarSet
triggerall = !var(59)
Triggerall = RoundState = [1,2]
trigger1 = AILevel >0
var(59) = 3+(AILevel);ﾏｵﾍｳｶﾔﾓｦｵﾈｼｶ(ﾗ鋕ﾟ8)
ignorehitpause = 1

;[State 0, PowerAdd]
;type = PowerAdd
;trigger1 = 1
;value = 5
;================================================================================================
;
[state -3, yaccel]
type = varset
trigger1 = fvar(40) != EnemyNear(floor(fvar(37))),const(movement.yaccel)
trigger1 = EnemyNear(floor(fvar(37))),stateno != [5000,5210]
trigger1 = EnemyNear(floor(fvar(37))),Vel Y != 0
FV = 40
value = EnemyNear(floor(fvar(37))),const(movement.yaccel)
ignorehitpause = 1


[state -3, yaccel]
type = varset
trigger1 = fvar(40) != EnemyNear(floor(fvar(37))),GetHitVar(yaccel)
trigger1 = EnemyNear(floor(fvar(37))),stateno = [5000,5210]
FV = 40
value = EnemyNear(floor(fvar(37))),GetHitVar(yaccel)
ignorehitpause = 1


[state -3, yaccel]
type = varset
trigger1 = fvar(40) != 0
trigger1 = EnemyNear(floor(fvar(37))),Vel Y = 0
FV = 40
value = 0
ignorehitpause = 1


;================================================================================================
;
[State -3]
Type = varset
Triggerall = fvar(30)=0
Triggerall = var(59)
Trigger1 = Stateno = 2600 && Movehit
Trigger2 = ProjHitTime(2620) = 1
fvar(36) = 1


[State -3]
Type = varset
Triggerall = fvar(30)=0
Triggerall = var(59)
Trigger1 = P2MoveType != H
fvar(36) = 0

[State -3]
Type = varset
Triggerall = fvar(30)=0
Triggerall = var(59)
Trigger1 = Stateno = 1210 && Movehit
fvar(36) = 2


[State -3]
Type = varset
Triggerall = fvar(30)=0
Triggerall = var(59)
Trigger1 = P2MoveType != H
fvar(36) = 0

;------------------------------------------------------
[State -3]
Type = varset
Triggerall = fvar(30)=1
Triggerall = var(59)
Trigger1 = P2stateno = 1570
fvar(36) = 1


[State -3]
Type = varset
Triggerall = fvar(30)=1
Triggerall = var(59)
Trigger1 = P2MoveType != H
fvar(36) = 0


[State -3]
Type = varset
Triggerall = fvar(30)=1
Triggerall = var(59)
Trigger1 = (Stateno = 1600||Stateno =1650) && Movehit
fvar(36) = 2


[State -3]
Type = varset
Triggerall = fvar(30)=1
Triggerall = var(59)
Trigger1 = P2MoveType != H
fvar(36) = 0

;================================================================================================
;

[State -3]
type = varset
trigger1 = RoundState != 2
var(25) = 0

[State -3]
type = varset
triggerall = !var(25)
trigger1 = Ctrl
var(25) = GameTime
persistent = 0

[State -3]
type = varset
triggerall = RoundState = 2
trigger1 = GameTime = var(25)
trigger2 = (GameTime - var(25))%200 = 1
trigger2 = P2MoveType != A
var(26) = Enemy(0),NumHelper
ignorehitpause = 1

[State -3]
type = varset
triggerall = NumEnemy = 2
trigger1 = GameTime = var(25)
trigger2 = (GameTime - var(25))%200 = 1
trigger2 = P2MoveType != A
var(27) = Enemy(1),NumHelper
ignorehitpause = 1

[State -3]
type = varset
triggerall = Enemy(0),NumHelper - var(26) > 0
trigger1 = NumEnemy = 1
trigger2 = NumEnemy = 2
trigger2 = Enemy(1),NumHelper - var(27) > 0
var(28) = 1
ignorehitpause = 1

[State -3]
type = varset
trigger1 = NumEnemy = 1
trigger1 = Enemy(0),NumHelper - var(26) <= 0
trigger2 = NumEnemy = 2
trigger2 = Enemy(0),NumHelper - var(26) <= 0
trigger2 = Enemy(1),NumHelper - var(27) <= 0
var(28) = 0
ignorehitpause = 1
;================================================================================================
[State -3]
Type = varset
Trigger1 = numenemy=1
fvar(37) = 0

[State -3]
Type = varset
Trigger1 = numenemy=2
fvar(37) = ifelse(EnemyNear(0),alive,0,1)

[State -3,G･C]
type = ChangeState
value = 3500
triggerall = var(1)=0
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = power >= 3000
triggerall = life<=lifemax*0.3
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2bodydist X = [20+floor(8*(EnemyNear(floor(fvar(37))),vel X)),50+floor(8*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2bodydist y = [-120-floor(8*(EnemyNear(floor(fvar(37))),vel Y)+(8*(8+1)/2)*fvar(40)),0-floor(8*(EnemyNear(floor(fvar(37))),vel Y)+(8*(8+1)/2)*fvar(40))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
TriggerAll = P2MoveType = A
TriggerAll = Random<= var(59)*20
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -8
triggerall = EnemyNear(floor(fvar(37))),Time >=30 || Time <= 2 || var(59) >= 11
trigger1 = EnemyNear(floor(fvar(37))),Time >=50 || var(59) >= 11
Trigger2 = (PrevStateNo=[5000,5270]) || prevstateno = 5201
Trigger3 = (PrevStateNo=[120,159])

[State -3, MAX S]
type = ChangeState
value = ifelse(var(1)=1,3000,3100)
triggerall = fvar(30)=0
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = power >= 2000
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2bodydist X = [-15,50]
triggerall = P2bodydist y >= 0
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -7
Triggerall = prevstateno = 710
triggerall = EnemyNear(floor(fvar(37))),ctrl = 0
Trigger1 = Random <= var(59)*100

[State -3, S]
type = ChangeState
value = ifelse(power>=2000,3200,2050)
triggerall = fvar(30)=0
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = power >= 1000
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2bodydist X = [-15,50]
triggerall = P2bodydist y >= 0
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -7
Triggerall = prevstateno = 710
triggerall = EnemyNear(floor(fvar(37))),ctrl = 0
Trigger1 = Random <= var(59)*100

[State -3, Crouching Light Kick]
type = ChangeState
value = ifelse(Random <= 400,430,205)
triggerall = fvar(30)=0
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2BodyDist X = [-10,15]
triggerall = P2BodyDist Y >= 0
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -5
Triggerall = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159]) || prevstateno = 710 || prevstateno = 5201
triggerall = EnemyNear(floor(fvar(37))),ctrl = 0
Trigger1 = Random<= var(59)*100

[State -3, Stand Strong Punch]
type = ChangeState
value = ifelse(Random <= 400,400,215)
triggerall = fvar(30)=0
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2BodyDist X = [-21,21]
triggerall = P2BodyDist Y = [-40,0]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -6
Triggerall = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159]) || prevstateno = 710 || prevstateno = 5201
triggerall = EnemyNear(floor(fvar(37))),ctrl = 0
Trigger1 = Random<= var(59)*100

[State -3,G･C]
type = ChangeState
value = 1400;ifelse(Random <= 400,1250,1400)
triggerall = fvar(30)=0
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2bodydist X = [50,80]
triggerall = P2bodydist y = [-72,0]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -8
Triggerall = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159]) || prevstateno = 710 || prevstateno = 5201
triggerall = EnemyNear(floor(fvar(37))),ctrl = 0
Trigger1 = Random<= var(59)*30


[State -3,G･C]
type = ChangeState
value = ifelse(power>=2000,3200,2050)
triggerall = fvar(30)=0
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = power >= 1000
triggerall = P2StateType != A
triggerall = P2bodydist X = [-10+floor(8*(EnemyNear(floor(fvar(37))),vel X)),50+floor(8*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2bodydist y = [-72-floor(8*(EnemyNear(floor(fvar(37))),vel Y)+(8*(8+1)/2)*fvar(40)),0-floor(8*(EnemyNear(floor(fvar(37))),vel Y)+(8*(8+1)/2)*fvar(40))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
TriggerAll = P2MoveType = A
TriggerAll = Random<= var(59)*40
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -8
triggerall = EnemyNear(floor(fvar(37))),Time >=30 || Time <= 2 || var(59) >= 11
trigger1 = EnemyNear(floor(fvar(37))),Time >=50 || var(59) >= 11
Trigger2 = (PrevStateNo=[5000,5270]) || prevstateno = 5201
Trigger3 = (PrevStateNo=[120,159])

[State -3,G･C]
type = ChangeState
value = 1150
triggerall = fvar(30)=0
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2bodydist X = [-10,15];10+floor(8*(EnemyNear(floor(fvar(37))),vel X)),50+floor(8*(EnemyNear(floor(fvar(37))),vel X))]
;triggerall = P2bodydist y = [-72-floor(8*(EnemyNear(floor(fvar(37))),vel Y)+(8*(8+1)/2)*fvar(40)),0-floor(8*(EnemyNear(floor(fvar(37))),vel Y)+(8*(8+1)/2)*fvar(40))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
TriggerAll = P2MoveType = A
TriggerAll = Random<= var(59)*20
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -8
triggerall = EnemyNear(floor(fvar(37))),Time >=30 || Time <= 2 || var(59) >= 11
trigger1 = EnemyNear(floor(fvar(37))),Time >=50 || var(59) >= 11
Trigger2 = (PrevStateNo=[5000,5270]) || prevstateno = 5201
Trigger3 = (PrevStateNo=[120,159])


[State -3, T S]
type = ChangeState
value = 710
triggerall = fvar(30)=0
triggerall = var(59)
Triggerall = RoundState = 2
TriggerAll = StateType != A
triggerall = P2MoveType = A
triggerall = P2StateType != L
TriggerAll = P2BodyDist X = [-10,110]
TriggerAll = P2BodyDist Y >= -60
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = !EnemyNear(floor(fvar(37))),HitDefAttr = SCA,NT,ST,HT
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -30
TriggerAll = Random<= var(59)*40
triggerall = EnemyNear(floor(fvar(37))),Time >=30 || Time <= 2 || var(59) >= 11
trigger1 = EnemyNear(floor(fvar(37))),Time >=50 || var(59) >= 11
Trigger2 = (PrevStateNo=[5000,5270]) || prevstateno = 5201
Trigger3 = (PrevStateNo=[120,159])

[State -3, LW]
type = ChangeState
value = 2150
triggerall = var(1)=1
triggerall = fvar(30)=0
Triggerall = var(59)
Triggerall = StateType != A
Triggerall = RoundState = 2
Triggerall = power >= 1000
Triggerall = !InGuardDist
triggerall = P2StateType != L
Triggerall = P2BodyDist X = [160,200]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = NumProj = 0
Triggerall = Random < var(59)*50
Trigger1 = EnemyNear(floor(fvar(37))),NumProj >= 1
Trigger2 = Var(28)
Trigger2 = EnemyNear(floor(fvar(37))),HitDefAttr = ,AP

[State -3, LW]
type = ChangeState
value = 2100
triggerall = var(1)=1
triggerall = fvar(30)=0
Triggerall = var(59)
Triggerall = StateType != A
Triggerall = RoundState = 2
Triggerall = power >= 100
Triggerall = !InGuardDist
triggerall = P2StateType != L
Triggerall = P2BodyDist X = [100,139]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = NumProj = 0
Triggerall = Random < var(59)*30
Trigger1 = EnemyNear(floor(fvar(37))),NumProj >= 1
Trigger2 = Var(28)
Trigger2 = EnemyNear(floor(fvar(37))),HitDefAttr = ,AP

[State -3, LW]
type = ChangeState
value = 1400
triggerall = fvar(30)=0
Triggerall = var(59)
Triggerall = StateType != A
Triggerall = RoundState = 2
Triggerall = !InGuardDist
triggerall = P2StateType != L
Triggerall = P2BodyDist X = [120,159]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = NumProj = 0
Triggerall = Random < var(59)*70
Trigger1 = EnemyNear(floor(fvar(37))),NumProj >= 1
Trigger2 = Var(28)
Trigger2 = EnemyNear(floor(fvar(37))),HitDefAttr = ,AP

[State -3, LW]
type = ChangeState
value = 1450
triggerall = fvar(30)=0
Triggerall = var(59)
Triggerall = StateType != A
Triggerall = RoundState = 2
Triggerall = !InGuardDist
triggerall = P2StateType != L
Triggerall = P2BodyDist X = [160,189]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = NumProj = 0
Triggerall = Random < var(59)*70
Trigger1 = EnemyNear(floor(fvar(37))),NumProj >= 1
Trigger2 = Var(28)
Trigger2 = EnemyNear(floor(fvar(37))),HitDefAttr = ,AP


[State -3, H-Jump]
type = ChangeState
value = 44
triggerall = fvar(30)=0
Triggerall = var(59)
Triggerall = StateType != A
Triggerall = RoundState = 2
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2MoveType != H
Triggerall = P2BodyDist X >= 200
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = Random <= var(59)*100
trigger1 = EnemyNear(floor(fvar(37))),NumProj >= 1 || EnemyNear(floor(fvar(37))),HitDefAttr = SC,NP,SP,HP
Trigger2 = Var(28)
Trigger2 = EnemyNear(floor(fvar(37))),HitDefAttr = ,AP


[State -3]
Type = ChangeState
Value = 120
triggerall = fvar(30)=0
TriggerAll = var(59)
TriggerAll = StateType != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
TriggerAll = IfElse(Facing*(EnemyNear(floor(fvar(37))),Facing)*P2Dist X >0,(Abs(P2Dist X) <= 60),1)
triggerall = Random<=var(59)*100
Trigger1 = InGuardDist || (Facing*(EnemyNear(floor(fvar(37))),Facing)*P2Dist X >0 && P2MoveType = A)
Trigger1 = EnemyNear(floor(fvar(37))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(37))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger2 = InGuardDist || Facing*(EnemyNear(floor(fvar(37))),Facing)*P2Dist X >0
Trigger2 = Enemy,NumProj > 0
Trigger3 = EnemyNear(floor(fvar(37))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(37))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger3 = P2BodyDist X < 0
Trigger4 = EnemyNear(floor(fvar(37))),Vel X > 0
Trigger4 = EnemyNear(floor(fvar(37))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(37))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger5 = P2movetype = A
Trigger5 = Var(28)




[State -3]
type = ChangeState
value = ifelse(Random <= 400,800,1500)
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = Random <= var(59)*80
triggerall = p2stateno != [5050,5122]
triggerall = P2StateNo != [130,153]
triggerall = P2movetype != H
triggerall = ctrl && statetype != A
triggerall = statetype != A
triggerall = p2statetype != A
triggerall = P2statetype != L
triggerall = p2bodydist x = [-15,15]
trigger1 = ctrl

[State -3, Throw]
type = ChangeState
value = 750
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = power >= 1000
triggerall = stateno = [150,151]
triggerall = StateType != A
triggerall = P2MoveType = A
triggerall = P2StateType != L
triggerall = EnemyNear(floor(fvar(37))),Animtime <= -13
triggerall = BackEdgeBodyDist <= 15
triggerall = P2BodyDist X = [-5,60]
triggerall = P2BodyDist Y >= 45
Trigger1 = Random <= var(59)*100

[State -3, T S]
type = ChangeState
value = 710
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = power >= 1000
triggerall = stateno = [150,151]
triggerall = StateType != A
triggerall = P2MoveType = A
triggerall = P2StateType != L
triggerall = EnemyNear(floor(fvar(37))),Animtime <= -30
triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 40
triggerall = BackEdgeBodyDist <= 16
triggerall = P2BodyDist X = [0,120]
Trigger1 = Random <= var(59)*100

[State -3, Dash]
Type = ChangeState
Value = ifelse(fvar(30)=1,1850,1350)
triggerall = fvar(30)=0
Triggerall = var(59)
Triggerall = RoundState = 2
Triggerall = StateType != A
Triggerall = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22
;triggerall = Stateno != 100
Triggerall = P2BodyDist X > 160
;Triggerall = Facing != EnemyNear(floor(fvar(37))),Facing
;Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 20
Trigger1 = Random <= var(59)*100
Trigger1 = P2StateNo = [5100,5110]

[State -3, Dash]
Type = ChangeState
Value = 100
Ctrl = 0
triggerall = fvar(30)=0
Triggerall = var(59)
Triggerall = RoundState = 2
Triggerall = StateType != A
Triggerall = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22
triggerall = Stateno != 100
Triggerall = P2BodyDist X = [15,200]
Triggerall = Facing != EnemyNear(floor(fvar(37))),Facing
Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 40
Trigger1 = Random <= var(59)*100
Trigger1 = P2StateNo = [5100,5110]

[State -3,Sjump]
Type = ChangeState
Value = 710
triggerall = fvar(30)=0
TriggerAll = var(59)
triggerall = roundstate = 2
TriggerAll = StateType != A
TriggerAll = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = Facing != EnemyNear(floor(fvar(37))),Facing
Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 40
Triggerall = P2BodyDist X = [-15,15]
Trigger1 = Random <= var(59)*100
Trigger1 = P2StateNo = [5100,5110]

[State -3, Crouching Light Kick]
type = ChangeState
value = ifelse(Random <= 400,41,43)
triggerall = fvar(30)=0
TriggerAll = var(59)
triggerall = roundstate = 2
TriggerAll = StateType != A
TriggerAll = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = P2BodyDist X = [-5,15]
Triggerall = Facing = EnemyNear(floor(fvar(37))),Facing
Triggerall = EnemyNear(floor(fvar(37))),AnimTime = -1
Trigger1 = P2StateNo = 5120
Trigger1 = Random <= var(59)*100

[State -1, Crouching Strong Kick]
type = ChangeState
value = 44
triggerall = fvar(30)=0
Triggerall = var(59)
Triggerall = RoundState = 2
Triggerall = StateType != A
Triggerall = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = Random <= var(59)*100
Triggerall = P2BodyDist X = [-5,40]
Trigger1 = P2StateNo = 5120
Trigger1 = EnemyNear(floor(fvar(37))),AnimTime = -8

[State -3, LK]
type = ChangeState
value = 1000
triggerall = fvar(30)=0
Triggerall = var(59)
triggerall = numprojID(1000) = 0
Triggerall = RoundState = 2
Triggerall = StateType != A
Triggerall = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = Random <= var(59)*100
Triggerall = P2BodyDist X = [41,100]
Triggerall = P2BodyDist Y >= 0
Trigger1 = P2StateNo = 5120
Trigger1 = EnemyNear(floor(fvar(37))),AnimTime = -19

[State -3, SK]
type = ChangeState
value = 1050
triggerall = var(1)=1
triggerall = fvar(30)=0
Triggerall = var(59)
triggerall = numprojID(1000) = 0
Triggerall = RoundState = 2
Triggerall = StateType != A
Triggerall = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = Random <= var(59)*100
Triggerall = P2BodyDist X >= 101
Triggerall = P2BodyDist Y >= 0
Trigger1 = P2StateNo = 5120
Trigger1 = EnemyNear(floor(fvar(37))),AnimTime = -19

[State -3,]
Type = ChangeState
value = ifelse(Random <= 450,720,105)
triggerall = fvar(30)=0
TriggerAll = var(59)
triggerall = roundstate = 2
TriggerAll = StateType != A
TriggerAll = P2StateType = L
Triggerall = Facing != EnemyNear(floor(fvar(37))),Facing
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = P2BodyDist X = [-5,30]
Trigger1 = P2StateNo = 5120
Trigger1 = Random <= var(59)*100

;361

[State -3, S]
type = ChangeState
value = 1200
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = fvar(36) = 1
;triggerall = power >= 1200
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [-15+floor(6*(EnemyNear(floor(fvar(37))),vel X)),80+floor(6*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-50-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40)),0-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40))]
Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 18
triggerall = !inguarddist
triggerall = P2StateType = A
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100

[State -3, S]
type = ChangeState
value = 44
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = fvar(36) = 1
;triggerall = power >= 1200
triggerall = roundstate = 2
triggerall = P2stateno = 2620
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
;triggerall = P2BodyDist X = [-15+floor(6*(EnemyNear(floor(fvar(37))),vel X)),80+floor(6*(EnemyNear(floor(fvar(37))),vel X))]
;triggerall = P2BodyDist Y = [-50-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40)),0-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40))]
Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 19
triggerall = !inguarddist
triggerall = P2StateType != A
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100

[State -3, Dash]
type = ChangeState
value = 100
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = fvar(36) = 1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2stateno = 2620
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22
triggerall = Stateno != 100
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100

[State -3, Crouching Light Punch]
type = ChangeState
value = 1150
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = P2BodyDist X < 40
triggerall = statetype != A
Triggerall = fvar(20) > 0
Triggerall = fvar(20) > 120
Triggerall = P2StateType != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 999
trigger1= stateno = 1260 && AnimElemtime(4) > 0 && AnimElemtime(5) < 10 && movehit
trigger2= stateno = 1310 && movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = 1350
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = P2BodyDist X < 40
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = fvar(20) > 0
Triggerall = fvar(20) > 120
Triggerall = P2StateType != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 999
trigger1= stateno = 1150 && AnimElemtime(4) > 0 && AnimElemtime(5) <= 2 && movehit



[State -3, Crouching Light Punch]
type = ChangeState
value = ifelse(power>=2000,3200,2050)
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = Power >= 2000
Triggerall = P2StateType != A
Triggerall = fvar(20) > 0
Triggerall = fvar(20) < 120
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 600
triggerall = fvar(22)>=100
trigger1= stateno = 1150 && AnimElemtime(4) > 0 && AnimElemtime(5) <= 2 && movehit
trigger2= stateno = 1260 && AnimElemtime(4) > 0 && AnimElemtime(5) < 10 && movehit
trigger3= stateno = 1310 && AnimElemtime(5) > 0 && AnimElemtime(5) <= 3 && movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = 1250
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = fvar(20) > 0
Triggerall = fvar(20) > 120
triggerall = P2BodyDist X > 30
Triggerall = P2StateType != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 800
trigger1= stateno = 1150 && AnimElemtime(4) > 0 && AnimElemtime(5) <= 2





[State -3, Crouching Light Punch]
type = ChangeState
value = 1210
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype = A
Triggerall = p2bodydist x = [1,260]
Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 20
Triggerall = P2StateType != L
Triggerall = !InGuardDist
triggerall = Random <= var(59)*80
;trigger1 = stateno = 1200 && AnimElemtime(7) > 1 && AnimElemtime(8) < 2 && MoveGuarded
trigger1 = stateno = 1200 && AnimElemtime(7) > 1 && AnimElemtime(8) < 2 && Movehit


[State -3, Crouching Light Punch]
type = ChangeState
value = 1220
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 50
Triggerall = P2StateType != L
Triggerall = !InGuardDist
triggerall = Random <= var(59)*80
trigger1 = stateno = 1210 && AnimElemtime(5) > 1 && AnimElemtime(7) < 2 && MoveGuarded
;trigger2 = stateno = 1210 && AnimElemtime(4) > 1 && AnimElemtime(7) < 2 && Movehit

[State -3, MAX S]
type = ChangeState
value = ifelse(power>=2000,3200,2050)
triggerall = fvar(30)=0
triggerall = var(59)
;triggerall = power >= 1000
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [101,160]
triggerall = P2BodyDist Y >= 0
triggerall = !inguarddist
triggerall = P2StateType != A
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100
trigger1 = ProjHitTime(1000) != -1 && ProjHitTime(1000) < 13

[State -3, MAX S]
type = ChangeState
value = ifelse(Random <= 400,1300,1450)
triggerall = fvar(30)=0
triggerall = var(59)
;triggerall = power >= 2000
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X >= 161
triggerall = P2BodyDist Y >= 0
triggerall = !inguarddist
triggerall = P2StateType != A
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100
trigger1 = ProjHitTime(1000) != -1 && ProjHitTime(1000) < 13

[State -3, MAX S]
type = ChangeState
value = 1400
triggerall = fvar(30)=0
triggerall = var(59)
;triggerall = power >= 2000
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [121,160]
triggerall = P2BodyDist Y >= 0
triggerall = !inguarddist
triggerall = P2StateType != A
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100
trigger1 = ProjHitTime(1000) != -1 && ProjHitTime(1000) < 13

[State -3, Crouching Light Kick]
type = ChangeState
value = ifelse(Random <= 400,215,205)
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [-5,15]
triggerall = P2BodyDist Y >= 0
triggerall = P2statetype != L
triggerall = P2movetype = H
triggerall = P2statetype != A
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*100

[State -3, Stand Strong Punch]
type = ChangeState
value = ifelse(Random <= 400,400,215)
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X = [-21,21]
triggerall = P2BodyDist Y = [-40-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40)),0-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100

[State -3, Crouching Light Punch]
type = ChangeState
value = ifelse(Random <= 400,400,430)
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2BodyDist X = [-10,25]
triggerall = P2BodyDist Y >= 0
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100

[State -3, Stand Light Punch]
type = ChangeState
value = 400
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X = [-5,34];34
triggerall = P2BodyDist Y = [-45-floor(3*(EnemyNear(floor(fvar(37))),vel Y)+(3*(3+1)/2)*fvar(40)),0-floor(3*(EnemyNear(floor(fvar(37))),vel Y)+(3*(3+1)/2)*fvar(40))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
triggerall = P2StateType != C
Trigger1 = Random <= var(59)*100

[State -3, Stand Light Punch]
type = ChangeState
value = 210
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = Random <= var(59)*100
triggerall = roundstate = 2
triggerall = ctrl && statetype != A
triggerall = statetype = S
triggerall = p2statetype != A
triggerall = p2stateno = 1520
trigger1 = ctrl


;362

[State -3, LW]
type = ChangeState
value = ifelse(power>=2000,3200,2050)
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = fvar(36) = 2
triggerall = power >= 1000
triggerall = roundstate = 2
triggerall = statetype != A
;triggerall = P2BodyDist X = [-15,40]
;triggerall = P2BodyDist Y = [-55-floor(9*(EnemyNear(floor(fvar(37))),vel Y)+(9*(9+1)/2)*fvar(40)),0-floor(9*(EnemyNear(floor(fvar(37))),vel Y)+(9*(9+1)/2)*fvar(40))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = !inguarddist
TriggerAll = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 20
triggerall = P2StateType = A
triggerall = P2MoveType = H
trigger1 = P2StateType != L
Trigger1 = Random <= var(59)*100


[State -3, LW]
type = ChangeState
value = 1100
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = fvar(36) = 2
triggerall = power < 999
triggerall = roundstate = 2
triggerall = statetype != A
;triggerall = P2BodyDist X = [-15,40]
;triggerall = P2BodyDist Y = [-55-floor(9*(EnemyNear(floor(fvar(37))),vel Y)+(9*(9+1)/2)*fvar(40)),0-floor(9*(EnemyNear(floor(fvar(37))),vel Y)+(9*(9+1)/2)*fvar(40))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = !inguarddist
TriggerAll = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 26
triggerall = P2StateType = A
triggerall = P2MoveType = H
trigger1 = P2StateType != L
Trigger1 = Random <= var(59)*100

[State -3, Dash]
type = ChangeState
value = 100
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X >= 30
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22
triggerall = Stateno != 100
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100


[State -3, Sjump]
type = ChangeState
value = 43
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [-10,80]
triggerall = P2BodyDist Y >= 0
triggerall = !inguarddist
triggerall = P2movetype = H
triggerall = P2StateType != L
triggerall = P2StateType = C
triggerall = P2stateno = [120,159]
Trigger1 = Random <= var(59)*30

[State -3, Jump Strong Kick]
type = ChangeState
value = 610
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype = A && vel x = 0
triggerall = ctrl
triggerall = stateno != 105
triggerall = P2BodyDist X = [-15,24]
triggerall = !inguarddist
triggerall = P2StateType != A
triggerall = P2StateType = C
Trigger1 = Random <= var(59)*100

[State -3, Jump Strong Kick]
type = ChangeState
value = 640
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype = A && vel x = 0
triggerall = ctrl
triggerall = stateno != 105
triggerall = P2BodyDist X = [-15,24]
triggerall = !inguarddist
triggerall = P2StateType != C
Trigger1 = Random <= var(59)*100



[State -3, Sjump]
type = ChangeState
value = 44
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [81,100]
triggerall = P2BodyDist Y >= 0
triggerall = !inguarddist
;triggerall = P2movetype = H
triggerall = P2StateType != L
triggerall = P2StateType = C
triggerall = P2stateno = [120,159]
Trigger1 = Random <= var(59)*40

[State -3, FWalk]
type = ChangeState
value = 320
triggerall = fvar(30)=0
TriggerAll = var(59)
triggerall = statetype = A && vel x != 0
triggerall = p2statetype != A
triggerall = p2bodydist x < 0
TriggerAll = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 20
trigger1 = vel y > .1 ;|| p2bodydist Y <= 35
trigger1 = ctrl

[State -3, FWalk]
type = ChangeState
value = 320
triggerall = fvar(30)=0
TriggerAll = var(59)
triggerall = statetype = A && vel x != 0
triggerall = p2statetype != A
triggerall = p2bodydist x < 0
triggerall = P2stateno = 2620
TriggerAll = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 20
trigger1 = vel y > .1 ;|| p2bodydist Y <= 35
trigger1 = ctrl



[State -3, Crouching Light Punch]
type = ChangeState
value = 320
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
Triggerall = !InGuardDist
Triggerall = Random <= var(59)*100
Trigger1 = stateno = 105 && Pos Y < 0

;lxj

[State -3, Crouching Light Punch]
type = ChangeState
value = 1350
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2BodyDist X < 40
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= var(59)*100
Trigger1 = stateno = 215 && Movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = ifelse(power>=2000,3200,2050)
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
;triggerall = statetype != A
triggerall = power >= 1000
triggerall = P2statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Trigger1 = stateno = 305 && Movehit
trigger1 = fvar(22)<100
Trigger2 = stateno = 1150 && Movehit && P2BodyDist X > 35  && AnimElem = 5, <= 1
trigger2 = fvar(22)>=100
Trigger3 = stateno = 1810 && Movehit
trigger3 = fvar(22)>=100

[State -3, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= var(59)*100
Trigger1 = stateno = 430 && Movehit



[State -3, Crouching Light Punch]
type = ChangeState
value = 1500
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= var(59)*20
triggerall = p2bodydist x = [-15,15]
Trigger1 = stateno = 205 && Movehit && Random <= var(59)*20
Trigger2 = stateno = 400 && Movehit && Random <= var(59)*10

[State -1, MAX]
type = ChangeState
value = 1990
triggerall = P2BodyDist X < 30
Triggerall = var(59)
triggerall = !fvar(36)
triggerall = statetype != A
Triggerall = P2StateType != L
triggerall = fvar(22)>=100 && fvar(21) >= 900 && fvar(20) <= 0
Trigger1 = stateno = 400 && Movehit&& P2statetype != A
Trigger2 = stateno = 215 && Movehit&& P2statetype != A
Trigger3 = stateno = 205 && Movehit&& P2statetype != A
Trigger4 = stateno = 245 && Movehit&& P2statetype != A


[State -3, Crouching Light Punch]
type = ChangeState
value = 300
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2BodyDist X < 30
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Trigger1 = stateno = 400 && Movehit && P2BodyDist X < 30
Trigger2 = stateno = 215 && AnimElem = 3, >= 1 && Movehit;&& P2BodyDist X <= 18
;Trigger3 = stateno = 400 && AnimElem = 3, >= 1 && MoveGuarded
Trigger3 = stateno = 215 && AnimElem = 3, >= 1 && MoveGuarded;&& P2BodyDist X <= 18
Trigger4 = stateno = 210 && AnimElem = 5, >= 1 && MoveGuarded;&& P2BodyDist X <= 18
Trigger5 = stateno = 210 && AnimElem = 5, >= 1 && Movehit && P2BodyDist X < 30

[State -3, Crouching Light Punch]
type = ChangeState
value = 305
triggerall = var(59)
triggerall = statetype != A
trigger1 = (p2bodydist x = [1,250]) && Random <= var(59)*40
trigger1 = stateno = 300 && animelemtime(5) > 1 && animelemtime(7) < 0

[State -3, Crouching Light Punch]
type = ChangeState
value = ifelse(Random <= 400,1350,1250)
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = p2statetype != A
triggerall = Random <= var(59)*80
Triggerall = p2bodydist x = [1,260]
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Trigger1 = stateno = 300 && AnimElem = 5, >= 1 && Movehit
Trigger2 = stateno = 305 && AnimElem = 4, >= 1 && Movehit
Trigger3 = stateno = 210 && AnimElem = 5, >= 1 && Movehit
;Trigger2 = stateno = 215 && AnimElem = 3, >= 1 && Movehit;&& P2BodyDist X <= 18

[State -3, Crouching Light Punch]
type = ChangeState
value = 1250
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = p2bodydist x = [1,260]
Triggerall = P2StateType != L
Triggerall = !InGuardDist
triggerall = Random <= var(59)*80
trigger1 = stateno = 1410  && AnimElemtime(2) > 0 && AnimElemtime(3) < 10 && Movehit
trigger2 = stateno = 1460  && AnimElemtime(2) > 0 && AnimElemtime(3) < 10 && Movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = 1200
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = p2bodydist x = [1,260]
Triggerall = P2StateType != L
Triggerall = !InGuardDist
triggerall = Random <= var(59)*80
trigger1 = stateno = 1410  && AnimElemtime(2) > 0 && AnimElemtime(3) < 10 && MoveGuarded
trigger2 = stateno = 1460  && AnimElemtime(2) > 0 && AnimElemtime(3) < 10 && MoveGuarded

[State -3, Crouching Light Punch]
type = ChangeState
value = 1210
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = p2bodydist x = [1,260]
Triggerall = P2StateType != L
Triggerall = !InGuardDist
triggerall = Random <= var(59)*80
trigger1 = stateno = 1200 && AnimElemtime(7) > 1 && AnimElemtime(8) < 2 && MoveGuarded
trigger2 = stateno = 1200 && AnimElemtime(5) > 1 && AnimElemtime(8) < 2 && Movehit




[State -3, Crouching Light Punch]
type = ChangeState
value = 1260
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = (p2bodydist x = [1,260]) && Random <= var(59)*100
Trigger1 = stateno = 1250 && AnimElemtime(6) > 5 && AnimElemtime(8) < 2

[State -3, Crouching Light Punch]
type = ChangeState
value = 2000
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = power >= 1000
Triggerall = Random <= var(59)*30
;Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 20
Trigger1 = stateno = 1260 && AnimElemtime(4) > 0 && AnimElemtime(5) < 10 && movehit
trigger1 = fvar(22)>=100

[State -3, Crouching Light Punch]
type = ChangeState
value = 2600
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = power >= 1000
Triggerall = Random <= var(59)*30
Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 18
Trigger1 = stateno = 1260 && AnimElemtime(4) > 0 && AnimElemtime(5) < 10 && movehit
trigger1 = fvar(22)>=100


[State -3, Crouching Light Punch]
type = ChangeState
value = 1270
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = (p2bodydist x = [1,270]) && Random <= var(59)*100
Trigger1 = stateno = 1260 && AnimElemtime(4) > 1 && AnimElemtime(7) < 2



[State -3, Crouching Light Punch]
type = ChangeState
value = 3400
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = power >= 2000
Triggerall = P2StateType != L
Triggerall = !InGuardDist
;Triggerall = p2bodydist x = [1,270]
Trigger1 = stateno = 1260 && AnimElemtime(5) > 1 && AnimElemtime(7) < 2 && Random <= var(59)*30
trigger1 = fvar(22)>=100
trigger2 = stateno = 2040 && Movehit && AnimElemtime(8) <= 2
trigger2 = fvar(22)>=100
trigger3 = stateno = 2010 && AnimElemtime(52) > 1 && AnimElemtime(54) < 15 &&  Movehit &&  random < 250
trigger3 = fvar(22)>=100
trigger4 = stateno = 2060 && AnimElemtime(52) > 1 && AnimElemtime(54) < 15 && Movehit &&  random < 250
trigger4 = fvar(22)>=100

[State -3, Crouching Light Punch]
type = ChangeState
value = ifelse(var(1)=1,3000,3100)
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = power >= 2000
Triggerall = P2StateType != L
Triggerall = !InGuardDist
;Triggerall = p2bodydist x = [1,270]
Trigger1 = stateno = 1260 && AnimElemtime(5) > 1 && AnimElemtime(7) < 2 && Random <= var(59)*30
trigger1 = fvar(22)>=100
trigger2 = stateno = 2010 && AnimElemtime(52) > 1 && AnimElemtime(54) < 15 &&  Movehit &&  random < 250
trigger2 = fvar(22)>=100
trigger3 = stateno = 2060 && AnimElemtime(52) > 1 && AnimElemtime(54) < 15 && Movehit &&  random < 250
trigger3 = fvar(22)>=100


[State -3, Crouching Light Punch]
type = ChangeState
value = ifelse(var(1)=1,2700,2750)
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = power >= 1000
triggerall = statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
trigger1 = stateno = 2010 && AnimElemtime(52) > 1 && AnimElemtime(54) < 15 && Random <= var(59)*85
trigger2 = stateno = 2060 && AnimElemtime(52) > 1 && AnimElemtime(54) < 15 && Random <= var(59)*85



[State -3, Crouching Light Punch]
type = ChangeState
value = 1400
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = (p2bodydist x = [1,270]) && Random <= var(59)*30
Trigger1 = stateno = 300 && MoveGuarded
Trigger2 = stateno = 305 && MoveGuarded
Trigger3 = stateno = 210 && MoveGuarded


[State -3, Crouching Light Punch]
type = ChangeState
value = 1000
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = numprojID(1000) = 0
triggerall = statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = (p2bodydist x = [1,270]) && Random <= var(59)*40
Trigger1 = stateno = 300 && MoveGuarded
Trigger2 = stateno = 305 && MoveGuarded
Trigger3 = stateno = 210 && MoveGuarded


[State -3, Crouching Light Punch]
type = ChangeState
value = ifelse(var(1)=1,2200,2400)
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = power >= 1000
Triggerall = Random <= var(59)*20
;Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 20
Trigger1 = stateno = 1260 && AnimElemtime(4) > 0 && AnimElemtime(5) < 10 ;&& movehit
trigger1 = fvar(22)>=100
;trigger2 = stateno = 1810 && Movehit
;trigger2 = fvar(22)>=100




[State -3, Crouching Light Punch]
type = ChangeState
value = ifelse(Random <= 400,2000,ifelse(var(1)=1,ifelse(life<=lifemax*0.3&&power>=3000,3600,2500),2300))
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = power >= 1000
Triggerall = Random <= var(59)*100
;Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 20
Trigger1 = stateno = 1260 && AnimElemtime(4) > 0 && AnimElemtime(5) < 10 && movehit
trigger1 = fvar(22)>=100
trigger2 = stateno = 1310 && Movehit
trigger2 = fvar(22)>=100

[State -1, Walk]
type = ChangeState
value = 21
triggerall = fvar(30)=0
triggerall = !fvar(36)
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = BackEdgeBodyDist > 0
triggerall = !inguarddist
triggerall = stateno != [10,12]
triggerall = ctrl || stateno = 19
trigger1 = enemynear,movetype != H
trigger1 = P2BodyDist X >= 240
trigger1 = random <= 5*var(59)
trigger2 = enemynear,movetype != H
trigger2 = P2BodyDist X = [120,240]
trigger2 = random <= 10*var(59)
trigger3 = enemynear,movetype != H
trigger3 = P2BodyDist X = [0,120]
trigger3 = random <= 10*var(59)
trigger4 = enemynear,statetype = L
trigger4 = P2BodyDist X <= 30
trigger4 = random <= 10*var(59)
trigger5 = enemynear,movetype = H
trigger5 = enemynear,statetype = A
trigger5 = P2BodyDist X <= 5
trigger5 = enemynear,BackEdgeBodyDist <= 0 || enemynear,FrontEdgeBodyDist <= 0
trigger5 = random <= 8*var(59)
[State -1, Walk]
type = ChangeState
value = 22
triggerall = fvar(30)=0
triggerall = !fvar(36)
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = frontedgebodydist > 0
triggerall = !inguarddist
triggerall = ctrl || stateno = 21
triggerall = stateno != [10,12]
trigger1 = P2BodyDist X = [240,270]
trigger1 = random <= 7*(var(59))
trigger2 = P2BodyDist X = [120,240]
trigger2 = random <= 10*(var(59))
trigger3 = P2BodyDist X = [0,120]
trigger3 = random <= 8*(var(59))
trigger3 = enemynear,stateno != [5000,5210]
trigger4 = enemynear,StateNo= [120,155]
trigger4 = random <= 10*(var(59))
trigger4 = P2BodyDist X <= 60
trigger5 = enemynear,statetype != A
trigger5 = enemynear,statetype = L
trigger5 = P2BodyDist X = [40,120]
trigger5 = random <= 100*(var(59))
trigger6 = enemynear,statetype != L
trigger6 = enemynear,movetype = H
trigger6 = enemynear,stateno = [5000,5029]
trigger6 = random <= 100*var(59)

[State -3, LC]
type = ChangeState
value = 1050
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = numprojID(1000) = 0
triggerall = statetype != A
Triggerall = P2BodyDist Y >= -60
Triggerall = P2BodyDist X >= 160
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = P2StateType != A
Triggerall = P2moveType != H
Triggerall = P2MoveType = I
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Trigger1 = EnemyNear(floor(fvar(37))),Vel X <= 0
Trigger1 = Random <= var(59)*25

[State -3, LK]
type = ChangeState
value = 1000
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = numprojID(1000) = 0
triggerall = statetype != A
triggerall = P2BodyDist Y >= 0
Triggerall = P2BodyDist X >= 160
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
Triggerall = P2StateType != A
Triggerall = P2moveType != H
Triggerall = P2MoveType = I
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Trigger1 = EnemyNear(floor(fvar(37))),Vel X <= 0
Trigger1 = Random <= var(59)*25



[State -3, SKr]
type = ChangeState
value = ifelse(Random <= 400,42,1150)
triggerall = fvar(30)=0
trigger1 = var(59)
triggerall = p2stateno != [5050,5121]
triggerall = roundstate = 2
triggerall = p2bodydist x <= 50
triggerall = random <= 150
trigger1 = p2statetype = A
trigger1 = p2movetype != H
trigger1 = statetype != A
trigger1 = ctrl = 1



[State -3, SKr]
type = ChangeState
value = ifelse(Random <= 400,2000,ifelse(var(1)=1,2500,2300))
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = power >= 1000
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2bodydist X = [10+floor(8*(EnemyNear(floor(fvar(37))),vel X)),65+floor(8*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2bodydist y = [-72-floor(8*(EnemyNear(floor(fvar(37))),vel Y)+(8*(8+1)/2)*fvar(40)),0-floor(8*(EnemyNear(floor(fvar(37))),vel Y)+(8*(8+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2Statetype = A
Trigger1 = Random <= var(59)*20

[State -3, AKE]
type = ChangeState
value = 1100
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2bodydist X = [-10+floor(9*(EnemyNear(floor(fvar(37))),vel X)),30+floor(9*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2bodydist y = [-81-floor(9*(EnemyNear(floor(fvar(37))),vel Y)+(9*(9+1)/2)*fvar(40)),0-floor(9*(EnemyNear(floor(fvar(37))),vel Y)+(9*(9+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2Statetype = A
Trigger1 = Random <= var(59)*20

[State -3, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [-5+floor(5*(EnemyNear(floor(fvar(37))),vel X)),15+floor(5*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y >= 0--floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40))
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2statetype != C
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*20

[State -3, Crouching Strong Kick]
type = ChangeState
value = 41
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [-5+floor(9*(EnemyNear(floor(fvar(37))),vel X)),40+floor(9*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y >= 0--floor(9*(EnemyNear(floor(fvar(37))),vel Y)+(9*(5+1)/2)*fvar(40))
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2statetype != C
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*15

[State -3, Stand Strong Punch]
type = ChangeState
value = 215;ifelse(Random <= 400,205,215)
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = P2BodyDist X = [-21,21]
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [-21+floor(6*(EnemyNear(floor(fvar(37))),vel X)),21+floor(6*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-40-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40)),0-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*30

[State -3, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [-30+floor(5*(EnemyNear(floor(fvar(37))),vel X)),30+floor(5*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-10-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40)),0-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*30

[State -3, Stand Light Punch]
type = ChangeState
value = 41
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [-34+floor(3*(EnemyNear(floor(fvar(37))),vel X)),34+floor(3*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-45-floor(3*(EnemyNear(floor(fvar(37))),vel Y)+(3*(3+1)/2)*fvar(40)),0-floor(3*(EnemyNear(floor(fvar(37))),vel Y)+(3*(3+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2statetype != C
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*30

[State -3, Standing Strong Kick]
type = ChangeState
value = 400
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = p2bodydist X > 24
triggerall = P2BodyDist X = [24,40]
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [24+floor(12*(EnemyNear(floor(fvar(37))),vel X)),40+floor(12*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-41-floor(12*(EnemyNear(floor(fvar(37))),vel Y)+(12*(12+1)/2)*fvar(40)),0-floor(3*(EnemyNear(floor(fvar(37))),vel Y)+(12*(12+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*10

[State -3, Stand Light Kick]
type = ChangeState
value = 400
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = P2BodyDist X > 11
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = [100,101]
triggerall = P2BodyDist X = [12+floor(7*(EnemyNear(floor(fvar(37))),vel X)),60+floor(7*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-45-floor(7*(EnemyNear(floor(fvar(37))),vel Y)+(7*(7+1)/2)*fvar(40)),0-floor(7*(EnemyNear(floor(fvar(37))),vel Y)+(7*(7+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2statetype != C
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*30


[State -3, UKEMI]
type = ChangeState
value = 5201
triggerall = var(59)
triggerall = alive = 1
Triggerall = Random <= var(59)*20
Triggerall = fvar(22)>=100
trigger1 = stateno = 5050
trigger1 = pos y > -30
trigger1 = vel y > 0 && vel y < 9

[State -3, Jump Strong Punch]
type = ChangeState
value = 760
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = stateno != 105
triggerall = statetype = A
triggerall = ctrl
triggerall = vel X = 0
triggerall = P2BodyDist X = [-15+floor(9*(EnemyNear(floor(fvar(37))),vel X)+floor(9*vel X)),24+floor(9*(EnemyNear(floor(fvar(37))),vel X)+floor(9*vel X))]
triggerall = P2BodyDist Y = [-50-floor(9*(EnemyNear(floor(fvar(37))),vel Y)+(9*(9+1)/2)*fvar(40)-floor(9*vel Y)-(9*(9+1)/2)*0.54),11-floor(9*(EnemyNear(floor(fvar(37))),vel Y)+(9*(9+1)/2)*fvar(40)-floor(9*vel Y)-(9*(9+1)/2)*0.54)]
triggerall = (EnemyNear(floor(fvar(37))),statetype != A && Vel Y >= 0) || EnemyNear(floor(fvar(37))),statetype = A
triggerall = !inguarddist
triggerall = P2statetype != L
trigger1 = random <= 100*var(59)

[State -3, Jump Strong Punch]
type = ChangeState
value = 610
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = stateno != 105
triggerall = statetype = A
triggerall = ctrl
triggerall = vel X != 0
triggerall = P2BodyDist X = [-15+floor(5*(EnemyNear(floor(fvar(37))),vel X)+floor(5*vel X)),31+floor(5*(EnemyNear(floor(fvar(37))),vel X)+floor(5*vel X))]
triggerall = P2BodyDist Y = [-46-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40)-floor(5*vel Y)-(5*(5+1)/2)*0.54),45-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40)-floor(5*vel Y)-(5*(5+1)/2)*0.54)]
triggerall = (EnemyNear(floor(fvar(37))),statetype != A && Vel Y >= 0) || EnemyNear(floor(fvar(37))),statetype = A
triggerall = !inguarddist
triggerall = P2statetype != L
trigger1 = random <= 100*var(59)

[State -3, Jump Strong Punch]
type = ChangeState
value = ifelse(Random <= 420,760,640)
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = roundstate = 2
triggerall = stateno != 105
triggerall = statetype = A
triggerall = ctrl
triggerall = vel X != 0
triggerall = P2BodyDist X = [-15+floor(5*(EnemyNear(floor(fvar(37))),vel X)+floor(5*vel X)),31+floor(5*(EnemyNear(floor(fvar(37))),vel X)+floor(5*vel X))]
triggerall = P2BodyDist Y = [-46-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40)-floor(5*vel Y)-(5*(5+1)/2)*0.54),45-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40)-floor(5*vel Y)-(5*(5+1)/2)*0.54)]
triggerall = (EnemyNear(floor(fvar(37))),statetype != A && Vel Y >= 0) || EnemyNear(floor(fvar(37))),statetype = A
triggerall = !inguarddist
triggerall = P2statetype != L
trigger1 = random <= 100*var(59)

[State Change]
type = ChangeState
value = 2900
triggerall = var(1)=0
triggerall = fvar(30)=0
triggerall = var(59)
triggerall = life>=lifemax*0.5
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = vel X != 0
triggerall = P2statetype = L
triggerall = p2bodydist X < 20
triggerall = P2statetype = L
trigger1 = ctrl


;xiiiｰﾋﾉI===================================

[State -1, ]
type = ChangeState
value = ifelse(Random <= 400,800,1550)
triggerall = fvar(30)=1
triggerall = var(59) >= 1
triggerall = RoundState = 2
triggerall = statetype != A
triggerall = (ctrl || stateno=19 || stateno=21)
triggerall = stateno!=[99,100]
triggerall = EnemyNear(var(58)),stateno != 5120
TriggerAll = EnemyNear(var(58)),StateType != L
TriggerAll = EnemyNear(var(58)),MoveType != H
triggerall = EnemyNear(var(58)),statetype != A
triggerall = p2bodydist x = [-3,7]
Trigger1 = Random <= var(59)*100
Trigger2 = p2StateNo=[120,159]

[State -1, AI Silent Nage]
type = ChangeState
triggerall = fvar(30)=1
triggerall = NumEnemy
triggerall = roundstate = 2 && var(59)
triggerall = ctrl && StateType != A
Triggerall = fvar(21) >= 900 && fvar(20) <= 0
Triggerall = power >= 1000
;triggerall = P2statetype != A && P2statetype != L
triggerall = P2movetype = I && P2movetype != H
triggerall = P2bodyDist X > 130
triggerall = P2stateno != 5120
Trigger1 = Random<= 999;var(59)*70
value = 1991

[State -3, MAX S]
type = ChangeState
value = 3200
triggerall = fvar(30)=1
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = Power >= 2000
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2bodydist X = [-15,50]
triggerall = P2bodydist y >= 0
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -7
Triggerall = prevstateno = 710
triggerall = EnemyNear(floor(fvar(37))),ctrl = 0
Trigger1 = Random <= var(59)*100

[State -3, MAX S]
type = ChangeState
value = 2000
triggerall = fvar(30)=1
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = Power >= 1000
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2bodydist X = [-15,50]
triggerall = P2bodydist y >= 0
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -7
Triggerall = prevstateno = 710
triggerall = EnemyNear(floor(fvar(37))),ctrl = 0
Trigger1 = Random <= var(59)*100

[State -3, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = fvar(30)=1
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2StateType != A
triggerall = P2BodyDist X = [-10,15]
triggerall = P2BodyDist Y >= 0
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -5
Triggerall = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159]) || prevstateno = 710 || prevstateno = 5201
triggerall = EnemyNear(floor(fvar(37))),ctrl = 0
Trigger1 = Random<= var(59)*100

[State -3, Stand Strong Punch]
type = ChangeState
value = 400
triggerall = fvar(30)=1
triggerall = var(59)
TriggerAll = StateType != A
TriggerAll = RoundState = 2
triggerall = P2StateType != L
triggerall = P2BodyDist X = [-21,21]
triggerall = P2BodyDist Y = [-40,0]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -6
Triggerall = (PrevStateNo=[5000,5270]) || (PrevStateNo=[120,159]) || prevstateno = 710 || prevstateno = 5201
triggerall = EnemyNear(floor(fvar(37))),ctrl = 0
Trigger1 = Random<= var(59)*100

[State -3, T S]
type = ChangeState
value = 710
triggerall = fvar(30)=1
triggerall = var(59)
Triggerall = RoundState = 2
TriggerAll = StateType != A
;TriggerAll = life < 444
triggerall = P2MoveType = A
triggerall = P2StateType != L
TriggerAll = P2BodyDist X = [-10,110]
TriggerAll = P2BodyDist Y >= -60
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = !EnemyNear(floor(fvar(37))),HitDefAttr = SCA,NT,ST,HT
TriggerAll = EnemyNear(floor(fvar(37))),AnimTime <= -30
TriggerAll = Random<= var(59)*4
triggerall = EnemyNear(floor(fvar(37))),Time >=30 || Time <= 2 || var(59) >= 11
trigger1 = EnemyNear(floor(fvar(37))),Time >=50 || var(59) >= 11
Trigger2 = (PrevStateNo=[5000,5270]) || prevstateno = 5201
Trigger3 = (PrevStateNo=[120,159])
[State -3, LW]
type = ChangeState
value = 710
triggerall = fvar(30)=1
Triggerall = var(59)
Triggerall = StateType != A
Triggerall = RoundState = 2
Triggerall = !InGuardDist
triggerall = P2StateType != L
Triggerall = P2BodyDist X = [111,160]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
Triggerall = NumProj = 0
Triggerall = Random < var(59)*100
Trigger1 = EnemyNear(floor(fvar(37))),NumProj >= 1
Trigger2 = Var(28)
Trigger2 = EnemyNear(floor(fvar(37))),HitDefAttr = ,AP

[State -3]
Type = ChangeState
Value = 120
triggerall = fvar(30)=1
TriggerAll = var(59)
TriggerAll = StateType != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
TriggerAll = IfElse(Facing*(EnemyNear(floor(fvar(37))),Facing)*P2Dist X >0,(Abs(P2Dist X) <= 60),1)
triggerall = Random<=var(59)*100
Trigger1 = InGuardDist || (Facing*(EnemyNear(floor(fvar(37))),Facing)*P2Dist X >0 && P2MoveType = A)
Trigger1 = EnemyNear(floor(fvar(37))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(37))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger2 = InGuardDist || Facing*(EnemyNear(floor(fvar(37))),Facing)*P2Dist X >0
Trigger2 = Enemy,NumProj > 0
Trigger3 = EnemyNear(floor(fvar(37))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(37))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger3 = P2BodyDist X < 0
Trigger4 = EnemyNear(floor(fvar(37))),Vel X > 0
Trigger4 = EnemyNear(floor(fvar(37))),HitDefAttr = SC,NA,SA,HA,NP,SP,HP || EnemyNear(floor(fvar(37))),HitDefAttr = A,NA,SA,HA,NP,SP,HP
Trigger5 = P2movetype = A
Trigger5 = Var(28)
[State -3, Throw]
type = ChangeState
value = 750
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = power >= 1000
triggerall = stateno = [150,151]
triggerall = StateType != A
triggerall = P2MoveType = A
triggerall = P2StateType != L
triggerall = EnemyNear(floor(fvar(37))),Animtime <= -13
triggerall = BackEdgeBodyDist <= 15
triggerall = P2BodyDist X = [-5,60]
triggerall = P2BodyDist Y >= 45
Trigger1 = Random <= var(59)*100
[State -3, T S]
type = ChangeState
value = 710
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = power >= 1000
triggerall = stateno = [150,151]
triggerall = StateType != A
triggerall = P2MoveType = A
triggerall = P2StateType != L
triggerall = EnemyNear(floor(fvar(37))),Animtime <= -30
triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 40
triggerall = BackEdgeBodyDist <= 16
triggerall = P2BodyDist X = [0,120]
Trigger1 = Random <= var(59)*100
[State -3, Dash]
Type = ChangeState
Value = 100
Ctrl = 0
triggerall = fvar(30)=1
Triggerall = var(59)
Triggerall = RoundState = 2
Triggerall = StateType != A
Triggerall = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22
triggerall = Stateno != 100
Triggerall = P2BodyDist X = [15,200]
Triggerall = Facing != EnemyNear(floor(fvar(37))),Facing
Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 20
Trigger1 = Random <= var(59)*100
Trigger1 = P2StateNo = [5100,5110]

[State -3,]
Type = ChangeState
value = 41
triggerall = fvar(30)=1
TriggerAll = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
TriggerAll = StateType != A
TriggerAll = P2StateType = L
Triggerall = Facing != EnemyNear(floor(fvar(37))),Facing
Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 20
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
Triggerall = P2BodyDist X = [-10,30]
Trigger1 = P2StateNo = 5120
Trigger1 = Random <= var(59)*100

[State -3,]
Type = ChangeState
value = 105
triggerall = fvar(30)=1
TriggerAll = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
TriggerAll = StateType != A
TriggerAll = P2StateType = L
Triggerall = Facing != EnemyNear(floor(fvar(37))),Facing
Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 20
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
Triggerall = P2BodyDist X = [-10,30]
Trigger1 = P2StateNo = 5120
Trigger1 = Random <= var(59)*100



[State -3, LK]
type = ChangeState
value = 1550
triggerall = fvar(30)=1
Triggerall = var(59)
Triggerall = RoundState = 2
Triggerall = StateType != A
Triggerall = P2StateType = L
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
Triggerall = Random <= var(59)*100
Triggerall = P2BodyDist X > 160
Triggerall = P2BodyDist Y >= 0
Trigger1 = P2StateNo = 5120
Trigger1 = EnemyNear(floor(fvar(37))),AnimTime = -19
;361



[State -3, S]
type = ChangeState
value = 1650
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = fvar(36) = 1
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
;triggerall = P2BodyDist X = [-15+floor(6*(EnemyNear(floor(fvar(37))),vel X)),80+floor(6*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-150-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40)),0-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40))]
;Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 20
triggerall = !inguarddist
triggerall = P2StateType = A
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100


[State -3, S]
type = ChangeState
value = 1700
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = fvar(36) = 2
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
;triggerall = P2BodyDist X = [-15+floor(6*(EnemyNear(floor(fvar(37))),vel X)),80+floor(6*(EnemyNear(floor(fvar(37))),vel X))]
;triggerall = P2BodyDist Y = [-95-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40)),0-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40))]
;Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 20
triggerall = !inguarddist
triggerall = P2StateType = A
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100

[State -3, S]
type = ChangeState
value = 1650
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = fvar(36) = 2
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
;triggerall = P2BodyDist X = [-15+floor(6*(EnemyNear(floor(fvar(37))),vel X)),80+floor(6*(EnemyNear(floor(fvar(37))),vel X))]
;triggerall = P2BodyDist Y = [-95-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40)),0-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40))]
;Triggerall = EnemyNear(floor(fvar(37))),BackEdgeBodyDist <= 20
triggerall = !inguarddist
triggerall = P2StateType = A
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100





[State -3, Crouching Light Kick]
type = ChangeState
value = ifelse(Random <= 400,430,205)
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [-5,15]
triggerall = fvar(20) = 0
triggerall = P2BodyDist Y >= 0
triggerall = P2statetype != L
triggerall = P2movetype = H
triggerall = P2statetype != A
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*100

[State -3, Stand Strong Punch]
type = ChangeState
value = ifelse(Random <= 400, 205, ifelse(Random <= 400, 245, 215))
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X = [-21,21]
triggerall = P2BodyDist Y = [-40-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40)),0-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100
[State -3, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2BodyDist X = [-10,25]
triggerall = P2BodyDist Y >= 0
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100
[State -3, Stand Light Punch]
type = ChangeState
value = 300
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X = [-5,34]
triggerall = P2BodyDist Y = [-45-floor(3*(EnemyNear(floor(fvar(37))),vel Y)+(3*(3+1)/2)*fvar(40)),0-floor(3*(EnemyNear(floor(fvar(37))),vel Y)+(3*(3+1)/2)*fvar(40))]
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
triggerall = P2StateType != C
Trigger1 = Random <= var(59)*100;362



[State -3, Dash]
type = ChangeState
value = 100
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2BodyDist X >= 25
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22
triggerall = Stateno != 100
triggerall = !inguarddist
triggerall = P2MoveType = H
triggerall = P2StateType != L
Trigger1 = Random <= var(59)*100
[State -3, Sjump]
type = ChangeState
value = 43
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = P2StateType != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [0,90]
triggerall = backedgebodydist >= 21
triggerall = P2BodyDist Y >= 0
triggerall = !inguarddist
;triggerall = P2movetype = H
triggerall = P2StateType != L
triggerall = P2StateType = C
triggerall = P2stateno = [120,159]
Trigger1 = Random <= 300
[State -3, Sjump]
type = ChangeState
value = 41
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = P2StateType != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [91,110]
triggerall = backedgebodydist >= 21
triggerall = P2BodyDist Y >= 0
triggerall = !inguarddist
;triggerall = P2movetype = H
triggerall = P2StateType != L
triggerall = P2StateType = C
triggerall = P2stateno = [120,159]
Trigger1 = Random <= 300

;lxj
[State -3, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 410
Trigger1 = stateno = 430 && Movehit


[State -3, Crouching Light Punch]
type = ChangeState
value = 300
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
triggerall = P2BodyDist X < 40
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Trigger1 = stateno = 400 && Movehit &&  power < 1000 && Random <= 999
Trigger2 = stateno = 215 && Movehit &&  power < 1000 &&Random <= 999
Trigger3 = stateno = 205 && Movehit &&Random <= 999
Trigger4 = stateno = 400 && MoveGuarded &&Random <= 60
Trigger5 = stateno = 215 && MoveGuarded &&Random <= 60
Trigger6 = stateno = 205 && MoveGuarded &&Random <= 60
Trigger7 = stateno = 410 && MoveGuarded &&Random <= 60
Trigger8 = stateno = 410 && Movehit &&  power < 1000 && Random <= 999


[State -3, Crouching Light Punch]
type = ChangeState
value = 300
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 999
Trigger1 = stateno = 400 && Movehit &&  fvar(20) > 0

[State -3, AKZ]
type = ChangeState
triggerall = fvar(30)=1
value = ifelse(Random <= 400, 1700, ifelse(Random <= 500, 1650, 1800))
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = P2BodyDist X = [-10,45]
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 300
Trigger1 = stateno = 215 && MoveGuarded
Trigger2 = stateno = 300 && MoveGuarded
Trigger3 = stateno = 410 && MoveGuarded




[State -3, Crouching Light Punch]
type = ChangeState
value = 1850
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = fvar(20) > 0
triggerall = P2statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 999
Trigger1 = stateno = 300 && Movehit
Trigger2 = stateno = 215 && Movehit
Trigger3 = stateno = 245 && Movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = 1850
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 240
Trigger1 = stateno = 300 && Movehit
Trigger2 = stateno = 215 && Movehit
Trigger3 = stateno = 410 && Movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = 1700
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 180
Trigger1 = stateno = 215 && Movehit
Trigger2 = stateno = 410 && Movehit




[State -3, Crouching Light Punch]
type = ChangeState
value = 1650
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = P2BodyDist X < 25
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = P2statetype != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 500
Trigger1 = stateno = 215 && Movehit
Trigger2 = stateno = 300 && Movehit
Trigger3 = stateno = 410 && Movehit


[State -3, Crouching Light Punch]
type = ChangeState
value = 1650
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
;Triggerall = P2StateType != A
Triggerall = fvar(20) > 0
Triggerall = fvar(20) > 120
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 999
Trigger1 = stateno = 1810 && Movehit
Trigger2 = (stateno = 1700||stateno =1750) && Movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = 1850
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = P2StateType != A
Triggerall = fvar(20) > 0
Triggerall = fvar(20) > 120
Triggerall = P2StateType != L
Triggerall = P2StateType != C
Triggerall = !InGuardDist
Triggerall = Random <= 999
Trigger1 = (stateno = 1600||stateno =1650) && Movehit
;Trigger2 = (stateno = 1700||stateno =1750) && Movehit &&P2StateType != C


[State -3, Crouching Light Punch]
type = ChangeState
value = 1850
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = P2StateType != A
Triggerall = fvar(20) > 0
Triggerall = fvar(20) > 120
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 999
Trigger1 = (stateno = 1600||stateno =1650) && Movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = 2050
triggerall = life<lifemax*0.3 && power>=4000
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = Power >= 1000
Triggerall = P2StateType != A
Triggerall = fvar(20) > 0
Triggerall = fvar(20) < 150
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= var(59)*200
triggerall = fvar(22)>=100
trigger1= stateno = 1810 && Movehit
trigger2= (stateno = 1600||stateno =1650) && Movehit
trigger3= (stateno = 1700||stateno =1750) && Movehit


[State -3, Crouching Light Punch]
type = ChangeState
value = 3200
triggerall = power<4000
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = Power >= 2000
Triggerall = P2StateType != A
Triggerall = fvar(20) > 0
Triggerall = fvar(20) < 120
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 400
triggerall = fvar(22)>=100
trigger1= stateno = 1810 && Movehit
trigger2= (stateno = 1600||stateno =1650) && Movehit
trigger3= (stateno = 1700||stateno =1750) && Movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = 2050
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = P2StateType != A
triggerall = Power >= 1000
Triggerall = fvar(20) > 0
Triggerall = fvar(20) < 150
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 400
triggerall = fvar(22)>=100
trigger1= stateno = 1810 && Movehit
trigger2= stateno = 1650 && Movehit
trigger3= stateno = 1700 && Movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = 3200
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = Power >= 2000
Triggerall = fvar(20) > 0
Triggerall = fvar(20) < 120
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 400
triggerall = fvar(22)>=100
trigger1= stateno = 1810 && Movehit
trigger2= stateno =1650 && Movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = 2050
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = Power >= 1000
Triggerall = fvar(20) > 0
Triggerall = fvar(20) < 150
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 400
triggerall = fvar(22)>=100
trigger1= stateno = 1810 && Movehit
trigger2= stateno =1650 && Movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = 3200
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = Power > 2000
Triggerall = P2StateType = A
Triggerall = fvar(20) = 0
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 500
triggerall = fvar(22)>=100
trigger1= stateno = 1750&& AnimElem = 5, >= 2 && Movehit
[State -3, Crouching Light Punch]
type = ChangeState
value = 3200
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = Power > 2000
Triggerall = P2StateType != A
Triggerall = fvar(20) = 0
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 500
triggerall = fvar(22)>=100
trigger1= stateno = 1810 && Movehit

[State -3, Crouching Light Punch]
type = ChangeState
value = 2050
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = Power > 1000
Triggerall = fvar(20) = 0
Triggerall = P2StateType = A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 400
triggerall = fvar(22)>=100
trigger1= stateno = 1750 && AnimElem = 5, >= 2 && Movehit
[State -3, Crouching Light Punch]
type = ChangeState
value = 2050
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = Power > 1000
Triggerall = fvar(20) = 0
Triggerall = P2StateType != A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 400
triggerall = fvar(22)>=100
trigger1= stateno = 1810 && Movehit


[State -3, Crouching Light Punch]
type = ChangeState
value = 1850
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = fvar(20) > 0
Triggerall = fvar(20) > 120
triggerall = P2BodyDist X > 30
Triggerall = P2StateType = A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 800
trigger1= (stateno = 1600||stateno =1650) && AnimElemtime(13) > 0 && AnimElemtime(13) <= 3
trigger2= (stateno = 1700||stateno =1750) && AnimElemtime(7) > 0 && AnimElemtime(7) <= 1





[State -3, Crouching Light Punch]
type = ChangeState
value = 1700
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = P2BodyDist X < 34
triggerall = roundstate = 2
triggerall = statetype != A
Triggerall = fvar(20) > 0
Triggerall = fvar(20) > 120
Triggerall = P2StateType = A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 999
trigger1= (stateno = 1600||stateno =1650) && AnimElemtime(13) > 0 && AnimElemtime(13) <= 2
trigger2= stateno = 1810 && AnimElemtime(4) > 0 && AnimElemtime(5) <= 3



[State -3, Crouching Light Punch]
type = ChangeState
value = 1650
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = P2BodyDist X < 35
triggerall = statetype != A
Triggerall = fvar(20) > 0
Triggerall = fvar(20) > 120
Triggerall = P2StateType = A
Triggerall = P2StateType != L
Triggerall = !InGuardDist
Triggerall = Random <= 999
trigger1= (stateno = 1700||stateno =1750) && AnimElemtime(7) > 0 && AnimElemtime(7) <= 3
trigger2= stateno = 1810 && AnimElemtime(5) > 0 && AnimElemtime(5) <= 3


[State -3, FWalk]
type = ChangeState
value = 320
triggerall = fvar(30)=1
TriggerAll = var(59)
triggerall = statetype = A && vel x != 0
triggerall = p2statetype != A
triggerall = p2bodydist x < 0
TriggerAll = EnemyNear(floor(fvar(37))),BackEdgeBodyDist >= 20
trigger1 = vel y > .1 ;|| p2bodydist Y <= 35
trigger1 = ctrl


[State -3, Crouching Light Punch]
type = ChangeState
value = 320
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype = A
Triggerall = !InGuardDist
Triggerall = Random <= var(59)*100
Trigger1 = stateno = 105 && Pos Y < 0

[state -1,100]
type = ChangeState
value = 100
triggerall = fvar(30)=1
TriggerAll = var(59) >= 1
triggerall = Roundstate = 2
triggerall = statetype != A
triggerall = statetype = S
triggerall = (ctrl || stateno=19 || stateno=21) && (stateno != [99,100]) && (stateno != 10) && (stateno != 12) && (stateno!=[105,106])
trigger1 = !inguarddist
trigger1 = Random<=var(59)*25
trigger1 = EnemyNear(var(58)),MoveType != A
trigger1 = p2bodydist X >= 120
;trigger1 = numprojID(1001)=1

[State -1, Walk]
type = ChangeState
value = ifelse(random<400,100,22)
triggerall = fvar(30)=1
triggerall = !fvar(36)
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = BackEdgeBodyDist > 0
triggerall = !inguarddist
triggerall = stateno != [10,12]
triggerall = ctrl || stateno = 19
trigger1 = enemynear,movetype != H
trigger1 = P2BodyDist X >= 240
trigger1 = random <= 5*var(59)
trigger2 = enemynear,movetype != H
trigger2 = P2BodyDist X = [120,240]
trigger2 = random <= 10*var(59)
trigger3 = enemynear,movetype != H
trigger3 = P2BodyDist X = [0,120]
trigger3 = random <= 10*var(59)
trigger4 = enemynear,statetype = L
trigger4 = P2BodyDist X <= 30
trigger4 = random <= 10*var(59)
trigger5 = enemynear,movetype = H
trigger5 = enemynear,statetype = A
trigger5 = P2BodyDist X <= 5
trigger5 = enemynear,BackEdgeBodyDist <= 0 || enemynear,FrontEdgeBodyDist <= 0
trigger5 = random <= 8*var(59)

[State -1, Walk]
type = ChangeState
value = ifelse(random<400,105,21)
triggerall = fvar(30)=1
triggerall = !fvar(36)
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = frontedgebodydist > 0
triggerall = !inguarddist
triggerall = ctrl || stateno = 21
triggerall = stateno != [10,12]
trigger1 = P2BodyDist X = [240,270]
trigger1 = random <= 7*(var(59))
trigger2 = P2BodyDist X = [120,240]
trigger2 = random <= 10*(var(59))
trigger3 = P2BodyDist X = [0,120]
trigger3 = random <= 8*(var(59))
trigger3 = enemynear,stateno != [5000,5210]
trigger4 = enemynear,StateNo= [120,155]
trigger4 = random <= 10*(var(59))
trigger4 = P2BodyDist X <= 60
trigger5 = enemynear,statetype != A
trigger5 = enemynear,statetype = L
trigger5 = P2BodyDist X = [40,120]
trigger5 = random <= 100*(var(59))
trigger6 = enemynear,statetype != L
trigger6 = enemynear,movetype = H
trigger6 = enemynear,stateno = [5000,5029]
trigger6 = random <= 100*var(59)



[State -3, SKr]
type = ChangeState
value = ifelse(Random <= 400,43,44)
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = !fvar(36)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [20,100];[-10+floor(8*(EnemyNear(floor(fvar(37))),vel X)),65+floor(8*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2bodydist y = [-72-floor(8*(EnemyNear(floor(fvar(37))),vel Y)+(8*(8+1)/2)*fvar(40)),0-floor(8*(EnemyNear(floor(fvar(37))),vel Y)+(8*(8+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2MoveType != A
triggerall = P2Statetype = A
Trigger1 = Random <= var(59)*50

[State -3, AKE]
type = ChangeState
value = 1650
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2bodydist X = [-10+floor(9*(EnemyNear(floor(fvar(37))),vel X)),30+floor(9*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2bodydist y = [-81-floor(9*(EnemyNear(floor(fvar(37))),vel Y)+(9*(9+1)/2)*fvar(40)),0-floor(9*(EnemyNear(floor(fvar(37))),vel Y)+(9*(9+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2Statetype = A
Trigger1 = Random <= var(59)*50


[State -3, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [-5+floor(5*(EnemyNear(floor(fvar(37))),vel X)),15+floor(5*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y >= 0--floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40))
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2statetype != C
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*20

[State -3, Stand Strong Punch]
type = ChangeState
value = ifelse(Random <= 400,245,215)
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = P2BodyDist X = [-21,21]
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [-21+floor(6*(EnemyNear(floor(fvar(37))),vel X)),21+floor(6*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-40-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40)),0-floor(6*(EnemyNear(floor(fvar(37))),vel Y)+(6*(6+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*30

[State -3, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [-30+floor(5*(EnemyNear(floor(fvar(37))),vel X)),30+floor(5*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-10-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40)),0-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*30

[State -3, Stand Light Punch]
type = ChangeState
value = 300
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [-34+floor(3*(EnemyNear(floor(fvar(37))),vel X)),34+floor(3*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-45-floor(3*(EnemyNear(floor(fvar(37))),vel Y)+(3*(3+1)/2)*fvar(40)),0-floor(3*(EnemyNear(floor(fvar(37))),vel Y)+(3*(3+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2statetype != C
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*30

[State -3, Standing Strong Kick]
type = ChangeState
value = 200
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = p2bodydist X > 24
triggerall = P2BodyDist X = [24,40]
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [24+floor(12*(EnemyNear(floor(fvar(37))),vel X)),40+floor(12*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-41-floor(12*(EnemyNear(floor(fvar(37))),vel Y)+(12*(12+1)/2)*fvar(40)),0-floor(3*(EnemyNear(floor(fvar(37))),vel Y)+(12*(12+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*10

[State -3, Stand Light Kick]
type = ChangeState
value = ifelse(Random <= 400,400,230)
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = P2BodyDist X > 11
triggerall = statetype != A
triggerall = ctrl || stateno = 20|| stateno = 21|| stateno = 22|| stateno = 100
triggerall = P2BodyDist X = [12+floor(7*(EnemyNear(floor(fvar(37))),vel X)),60+floor(7*(EnemyNear(floor(fvar(37))),vel X))]
triggerall = P2BodyDist Y = [-45-floor(7*(EnemyNear(floor(fvar(37))),vel Y)+(7*(7+1)/2)*fvar(40)),0-floor(7*(EnemyNear(floor(fvar(37))),vel Y)+(7*(7+1)/2)*fvar(40))]
triggerall = P2statetype != L
triggerall = P2movetype != H
triggerall = P2statetype != C
triggerall = !InGuardDist
Trigger1 = Random <= var(59)*30



[State -3, Jump Strong Punch]
type = ChangeState
value = ifelse(Random <= 400,640,650)
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = stateno != 105
triggerall = statetype = A
triggerall = ctrl
triggerall = vel X != 0
triggerall = P2BodyDist X = [-15+floor(5*(EnemyNear(floor(fvar(37))),vel X)+floor(5*vel X)),31+floor(5*(EnemyNear(floor(fvar(37))),vel X)+floor(5*vel X))]
;triggerall = P2BodyDist Y = [-46-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40)-floor(5*vel Y)-(5*(5+1)/2)*0.54),45-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40)-floor(5*vel Y)-(5*(5+1)/2)*0.54)]
triggerall = (EnemyNear(floor(fvar(37))),statetype != A && Vel Y >= 0) || EnemyNear(floor(fvar(37))),statetype = A
triggerall = !inguarddist
triggerall = P2statetype != L
trigger1 = random <= 100*var(59)

[State -3, Jump Strong Kick]
type = ChangeState
value = ifelse(Random <= 400,600,610)
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = stateno != 105
triggerall = statetype = A
triggerall = P2statetype != A
triggerall = ctrl
triggerall = P2BodyDist X = [-15+floor(7*(EnemyNear(floor(fvar(37))),vel X)+floor(7*vel X)),54+floor(7*(EnemyNear(floor(fvar(37))),vel X)+floor(7*vel X))]
triggerall = P2BodyDist Y = [-22-floor(7*(EnemyNear(floor(fvar(37))),vel Y)+(7*(7+1)/2)*fvar(40)-floor(7*vel Y)-(7*(7+1)/2)*0.54),59-floor(7*(EnemyNear(floor(fvar(37))),vel Y)+(7*(7+1)/2)*fvar(40)-floor(7*vel Y)-(7*(7+1)/2)*0.54)]
triggerall = (EnemyNear(floor(fvar(37))),statetype != A && Vel Y >= 0) || EnemyNear(floor(fvar(37))),statetype = A
triggerall = !inguarddist
triggerall = P2statetype != L
trigger1 = random <= 100*var(59)


[State -3, Jump Strong Punch]
type = ChangeState
value = 650
triggerall = fvar(30)=1
triggerall = var(59)
triggerall = roundstate = 2
triggerall = stateno != 105
triggerall = statetype = A
triggerall = ctrl
triggerall = vel X != 0
triggerall = P2BodyDist X = [-15+floor(5*(EnemyNear(floor(fvar(37))),vel X)+floor(5*vel X)),31+floor(5*(EnemyNear(floor(fvar(37))),vel X)+floor(5*vel X))]
triggerall = P2BodyDist Y = [-46-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40)-floor(5*vel Y)-(5*(5+1)/2)*0.54),45-floor(5*(EnemyNear(floor(fvar(37))),vel Y)+(5*(5+1)/2)*fvar(40)-floor(5*vel Y)-(5*(5+1)/2)*0.54)]
triggerall = (EnemyNear(floor(fvar(37))),statetype != A && Vel Y >= 0) || EnemyNear(floor(fvar(37))),statetype = A
triggerall = !inguarddist
triggerall = P2statetype != L
trigger1 = random <= 100*var(59)


;[def -2]

[State 1000, AssertSpecial]
type = AssertSpecial
triggerall = 1
trigger1 = stateno = [1000,2999]
trigger2 = fvar(20)>0
flag = nojugglecheck

;ｱｬﾆﾜﾁｿｲﾛ
[state a]
type = Helper
triggerall = roundstate = 2
triggerall = !IsHelper
triggerall = !NumHelper(7550)
trigger1 = NumPartner
trigger1 = ID < Partner,ID
trigger2 = !NumPartner
id = 7550
name = "MAX"
sprpriority = 1
pos = 0,0
postype = p1
stateno = 7550
helpertype = normal
pausemovetime = 99999999
supermovetime = 99999999
keyctrl = 0
ownpal = 1
ignorehitpause = 1

; Aura Shadow
[State -2, Helper]
type = Helper
triggerall = MoveType != H
triggerall = Alive
triggerall = Life > 0
triggerall = fvar(20) > 0
triggerall = NumHelper(7999) = 0
trigger1 = RoundState > 0
trigger1 = RoundState < 3
helpertype = normal
name = "Aura Shadow"
pausemovetime = 1000000000
supermovetime = 1000000000
id = 7999
pos = 0,0
postype = p1
stateno = 7999
keyctrl = 0
ownpal = 1

;ｱｬﾆ犹ﾘ
[State -2, 17]
type = PalFX
trigger1 = movetype != H
trigger1 = (GameTime%2)=0
trigger1 = fvar(20) > 0
time = 1
add = 120,100,40
ignorehitpause = 1

;ｱｬﾆ犹ﾘ
[State -2, 4] ; Shadows off XIII ｵ蠍ﾌｺ・蠱ｦｰﾅ
type = varset
trigger1 = movetype = H && (StateNo != [120,160]) && fvar(20) > 0
trigger2 = RoundState != 2
trigger3 = fvar(20)<=0
fvar(20) = 0

;ｱｬﾆ犹ﾘ
[State -2, 15]
type = Varadd
trigger1 = fvar(20) > 0
fvar(20) = -1
ignorehitpause = 1

[State -2, 15]
type = Varadd
triggerall = RoundState = 2
triggerall = fvar(20) <= 0
trigger1 = fvar(21) < 900
fvar(21) = 2
ignorehitpause = 1

[State -2, 15]
type = Varset
triggerall = RoundState = 2
trigger1 = 1
fvar(22) = 500
ignorehitpause = 1


;ﾍ｣ﾖｹﾅﾜｲｽﾉ・
[state -2, stopsound]
type = stopsnd;
trigger1 = stateno != 100
channel = 5

[State -2, AirGuard]
type = AssertSpecial
trigger1 = 1
flag = NoAirGuard
IgnoreHitPause = 1

;==================================
[state a]
type = varset
trigger1 = p2movetype != H
fvar(19) = p2life

[state a]
type = AttackMulSet
trigger1 = var(1)=0
trigger1 = fvar(20) = 0
trigger1 = 1
value = 1-(fvar(19)-p2life)/1100

[state a]
type = AttackMulSet
trigger1 = var(1)=0
trigger1 = fvar(20) > 0
trigger1 = 1
value = 0.9-(fvar(19)-p2life)/1100

[state a]
type = AttackMulSet
trigger1 = var(1)=1
trigger1 = fvar(20) = 0
trigger1 = 1
value = 1.2-(fvar(19)-p2life)/1100

[state a]
type = AttackMulSet
trigger1 = var(1)=1
trigger1 = fvar(20) > 0
trigger1 = 1
value = 1-(fvar(19)-p2life)/1100

[State 2000, 6];炎
type = PlaySnd
trigger1 = ProjHit1000 = 1
trigger2 = ProjHit2300 = 1
trigger3 = ProjHit2310 = 1
trigger4 = ProjHit2320 = 1
trigger5 = ProjHit2620 = 1
value = 1,15

[State 2000, 6];炎
type = PlaySnd
triggerall = p2movetype = H
triggerall = Movehit = 1
trigger1 = Anim = 1100+(var(1)*6000)||Anim = 1110+(var(1)*6000)
trigger2 = Anim = 1410+(var(1)*6000)||(Anim = [7200,7270])
trigger3 = (Anim = [2010,2011]) && AnimElemtime(52) >= 0
trigger4 = Anim = 2210
trigger5 = Anim = 2410  || Anim = 2510 ||Anim = 3520
trigger6 = Anim = 2710 && AnimElemtime(6) >= 0
trigger7 = Anim = 2760 && AnimElemtime(6) >= 0
trigger8 = Anim = 3100
trigger9 = Anim = 3610
value = 1,15

[State 907, 0]
type = Varset
trigger1 = ProjHit1000 = 1
trigger2 = ProjHit2300 = 1
trigger3 = ProjHit2310 = 1
trigger4 = ProjHit2320 = 1
trigger5 = ProjHit2620 = 1
trigger6 = p2stateno = 1330
trigger7 = p2stateno = 2625
trigger8 = p2stateno = 3120
trigger9 = p2stateno = 2620
trigger10 = Anim = 3036 && AnimElemtime(11) >= 0
trigger11 = Anim = 3503 && AnimElemtime(1) >= 0
trigger12 = Anim = 3310 && AnimElemtime(16) >= 0
trigger13 = Anim = 3950 && AnimElemtime(8) >= 0
var(40) = 300
persistent = 0
ignorehitpause = 1

[State 907, 0]
type = Varset
triggerall = movehit = 1
trigger1 = Anim = 1100+(var(1)*6000)||Anim = 1110+(var(1)*6000)
trigger2 = Anim = 1410+(var(1)*6000)||(Anim = [7200,7270])
trigger3 = (Anim = [2010,2011]) && AnimElemtime(52) >= 0
trigger4 = Anim = 2210
trigger5 = Anim = 2410 || Anim = 2510 ||Anim = 3520
trigger6 = Anim = 2710 && AnimElemtime(6) >= 0
trigger7 = Anim = 2760 && AnimElemtime(6) >= 0
trigger8 = Anim = 2012 && AnimElemtime(48) >= 0
trigger9 = Anim = 2261 && AnimElemtime(1) >= 0
trigger10 = Anim = 3100
trigger11 = Anim = 3610
trigger12 = Anim = 1410+(var(1)*6000)
trigger13 = Anim = 1460+(var(1)*6000)
var(40) = 300
persistent = 0
ignorehitpause = 1

[State -2, 0]
type = Varadd
trigger1 = var(40) > 0
var(40) = -1
ignorehitpause = 1

[State 907, 0]
type = varset
trigger1 = p2stateno = 41490 && enemy,anim = 5110
trigger2 = p2stateno = 4169 && enemy,anim = 5111
trigger3 = p2stateno = 4128 && enemy,anim = 5111
trigger4 = p2stateno = 4138 && enemy,anim = 5110
trigger5 = p2stateno = 4238 && enemy,anim = 5110
trigger6 = p2stateno = 4248 && enemy,anim = 5111
trigger7 = p2stateno = 5951 && enemy,anim = 5950
trigger8 = p2movetype != H
var(40) = 0

[State -2, 1]
type = Explod
triggerall = random < 80
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = var(40) = [150,300]
anim = 16810;
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State -2, 1]
type = Explod
triggerall = random < 50
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = var(40) = [150,300]
anim = 16811;破裂
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State -2, 1]
type = Explod
triggerall = random < 100
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = var(40) = [150,300]
anim = 16812;破裂
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State -2, 1]
type = Explod
triggerall = random < 100
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = var(40) = [1,300]
anim = 16813;破裂
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State -2, 1]
type = Explod
triggerall = random < 100
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = var(40) = [1,300]
anim = 16814;破裂
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State -2, 1]
type = Explod
triggerall = random < 100
triggerall = p2Movetype = H
triggerall = NumExplod(6800) < 8
trigger1 = (gametime%2) = 1
trigger1 = var(40) = [1,300]
anim = 16815;破裂
id = 6800
pos = 0,-50
random = 40,80
postype = p2
ownpal = 1
bindtime = 1
ignorehitpause = 1
sprpriority = 4

[State -2]
type = varset
triggerall = stateno != 5900
triggerall = stateno != 2900
triggerall = var(1) != 1
trigger1 = Palno < 7
var(1) = 0
ignorehitpause = 1

;ｸ蠑ｱﾅﾃ(ﾁｩｸｮｽｺ)
[State -2]
type = varset
triggerall = stateno != 5900
trigger1 = Palno > 6
var(1) = 1
ignorehitpause = 1


[State 192, ]
type = AssertSpecial
trigger1 = enemy,movetype = H
trigger1 = enemy,stateno = 2620
trigger1 = enemy,anim = 2635
flag = nojugglecheck

[State 1001,]
type = RemoveExplod
trigger1 = Anim != 2600 && Anim != 2601
trigger2 = Movetype != A
ID = 2600

[State 1001,]
type = RemoveExplod
trigger1 = enemy,movetype = H
trigger1 = enemy,stateno != 2620
ID = 2625

[State 700, エフェクト表示]
type = Explod
trigger1 = enemy,movetype = H
trigger1 = enemy,stateno = 2620
trigger1 = projhit2620 = 1
trigger1 = numExplod(2625) != 1
anim = 2625
postype = P2
pos = 0, 0
persistent = 0
sprpriority = -5
ownpal = 1
bindtime = -1
removetime = -1
removeongethit = 1
ID = 2625

[State 700, エフェクト表示]
type = Explod
triggerall = enemy,movetype = H
triggerall = enemy,prevstateno = 2620
trigger1 = enemy,stateno = 2630
trigger1 = enemy,time = 1
trigger2 = enemy,time = 1
anim = 2630
postype = P2
pos = 0, 0
persistent = 0
sprpriority = -5
ownpal = 1
removeongethit = 1
ID = 2630

[State -3, KO sound]
type = PlaySnd
trigger1 = !Alive && (var(50) != -9999)
trigger1 = var(50):=-9999
value= 111, ifelse(var(1), 1,0)

[State -3, GetHit Snd]
type=playsnd
triggerall = var(1) = 0
triggerall= alive && time=1
triggerall= stateno=5000 || stateno=5010
trigger1= gethitvar(animtype)>=2 && random<500
trigger2= gethitvar(animtype)=1 && random<375
trigger3= gethitvar(animtype)=0 && random<250
value=172,0+(random%3)
channel=0
ignorehitpause=1

[State -3, GetHit Snd]
type=playsnd
triggerall = var(1) = 0
triggerall= alive && time=1
trigger1= (stateno=5000 || stateno=5010) && numenemy
trigger1= gethitvar(fall) || (enemynear,hitdefattr=SCA,SA,HA)
trigger2= (stateno=5020 || stateno=5070 || stateno=5080)
trigger3= (stateno=5050 || stateno=5100) && (prevstateno!=[5000,5199])
value=172,0+(random%3)
channel=0
ignorehitpause=1

[State -3, GetHit Snd]
type=playsnd
triggerall = var(1) = 1
triggerall= alive && time=1
triggerall= stateno=5000 || stateno=5010
trigger1= gethitvar(animtype)>=2 && random<500
trigger2= gethitvar(animtype)=1 && random<375
trigger3= gethitvar(animtype)=0 && random<250
value=173,0+(random%3)
channel=0
ignorehitpause=1

[State -3, GetHit Snd]
type=playsnd
triggerall = var(1) = 1
triggerall= alive && time=1
trigger1= (stateno=5000 || stateno=5010) && numenemy
trigger1= gethitvar(fall) || (enemynear,hitdefattr=SCA,SA,HA)
trigger2= (stateno=5020 || stateno=5070 || stateno=5080)
trigger3= (stateno=5050 || stateno=5100) && (prevstateno!=[5000,5199])
value=173,0+(random%3)
channel=0
ignorehitpause=1

;jump velocities - orochi mode
;[State -3, 5]
;type = velset
;trigger1 = stateno = 50
;trigger1 = anim = 6041
;trigger1 = time = 1
;trigger1 = var(1) >= 1
;x = 0
;y = -9.1

;[State -3, 5]
;type = velset
;trigger1 = stateno = 50
;trigger1 = anim = 6042
;trigger1 = time = 1
;trigger1 = var(1) >= 1
;x = 5
;y = -9.1


;[State -3, 5]
;type = velset
;trigger1 = stateno = 50
;trigger1 = anim = 6043
;trigger1 = time = 1
;trigger1 = var(1) >= 1
;x = -5
;y = -9.1

;[State -3, 5];小ジャンプ
;type = veladd
;trigger1 = stateno = 50
;trigger1 = time = 1
;trigger1 = var(1) = 1
;y = 4

;[State -3, 5]
;type = AfterImage
;triggerall = var(1) = 1
;trigger1 = stateno = 50
;trigger1 = time = 1
;trigger1 = var(15) >= 1
;time = 10
;trans = add1
;timegap = 1
;framegap = 2
;length = 8
;palbright = 12,12,12
;palcontrast = 225,225,225
;palpostbright = 0,0,0
;paladd = 0,0,0
;palmul = 1,1,1



